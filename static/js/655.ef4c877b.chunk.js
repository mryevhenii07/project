"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[655],{9315:function(e,n,a){a.d(n,{BT:function(){return i},EC:function(){return s},cC:function(){return u},r4:function(){return l}});var r=a(4569),o=a.n(r),t="https://frontend-test-assignment-api.abz.agency/api/v1/";function i(e){return o().get("".concat(t,"users?page=1&count=").concat(e)).then((function(e){return e.data}))}function s(){return o().get("".concat(t,"token")).then((function(e){return e.data.token}))}function l(e,n){return o().post("".concat(t,"users"),n,{headers:{Token:e}}).then((function(e){return e.data}))}function u(){return o().get("".concat(t,"positions")).then((function(e){return e.data.positions}))}},5655:function(e,n,a){a.r(n),a.d(n,{default:function(){return w}});var r=a(1413),o=a(885),t=a(2791),i=a(8995),s=a(8931),l=a(4624),u=a(6513),d=a(5207),c=a(2475),m=a(7263),p=a(9315),x="Form_wrapForm__xvB93",h="Form_formMainTitle__H-Aty",v="Form_form__KiIxm",_="Form_formLabel__XEW-5",f="Form_formInputYourName__b0My1",g="Form_formInputEmail__+rwDp",j="Form_formInputPhone__SKsOK",b="Form_wrapError__WdplE",F="Form_error__mYrgJ",N="Form_noError__Opa+8",X="Form_selectPosition__wXd-H",Z="Form_formRadio__nWqMf",z="Form_wrapBtnPhoto__zl1u-",y="Form_upload__z4MRm",S="Form_uploadPhoto__MReGM",C="Form_wrapFormSubmit__PkWk+",k="Form_formSubmit__gJbXX",q="Form_actFormSubmit__8TBMe",E=a(4875),M=a(184),w=function(){var e,n,a,w,I,R,P,B=(0,t.useState)(""),T=(0,o.Z)(B,2),W=T[0],L=T[1],$=(0,t.useState)(""),K=(0,o.Z)($,2),O=K[0],Y=K[1],D=(0,t.useContext)(E.d).setIsNav,H=(0,s.k6)().push,J=(0,t.useState)([]),U=(0,o.Z)(J,2),A=U[0],G=U[1];(0,t.useEffect)((function(){(0,p.cC)().then(G),(0,p.EC)().then(Y)}),[]);var V=(0,i.cI)({mode:"onChange"}),Q=V.register,ee=V.handleSubmit,ne=V.reset,ae=V.formState,re=ae.errors,oe=ae.isValid;return(0,M.jsxs)("div",{className:x,children:[(0,M.jsx)("h1",{className:h,children:"Working with POST request"}),(0,M.jsxs)("form",{onSubmit:ee((function(e){var n=e.email,a=e.name,r=e.position_id,o=e.photo,t=e.phone,i=new FormData;i.set("email",n),i.set("name",a),i.set("phone",t),i.set("position_id",r),i.set("photo",o[0]),(0,p.r4)(O,i),H("/success"),D(!1),ne()})),className:v,children:[(0,M.jsxs)("label",{htmlFor:"",className:_,children:[(0,M.jsx)(l.Z,(0,r.Z)((0,r.Z)({className:f},Q("name",{required:"Required field",minLength:{value:2,message:"Minimum 2 characters"},maxLength:{value:60,message:"Maximum 60 characters"}})),{},{error:!(null===(e=re.name)||void 0===e||!e.message),id:"outlined-text-input",label:"Your name",autoComplete:"current-text",variant:"outlined"})),(0,M.jsx)("div",{className:b,children:(null===re||void 0===re?void 0:re.name)&&(0,M.jsx)("p",{className:F,children:(null===re||void 0===re||null===(n=re.name)||void 0===n?void 0:n.message)||"Error!"})})]}),(0,M.jsxs)("label",{htmlFor:"",className:_,children:[(0,M.jsx)(l.Z,(0,r.Z)((0,r.Z)({className:g,type:"email"},Q("email",{required:"Required field",pattern:{value:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i,message:"Invalid email address"}})),{},{error:!(null===(a=re.email)||void 0===a||!a.message),id:"outlined-email-input",label:"Email",autoComplete:"current-email",variant:"outlined"})),(0,M.jsx)("div",{className:b,children:(null===re||void 0===re?void 0:re.email)&&(0,M.jsx)("p",{className:F,children:(null===re||void 0===re||null===(w=re.email)||void 0===w?void 0:w.message)||"errors"})})]}),(0,M.jsxs)("label",{htmlFor:"",className:_,children:[(0,M.jsx)(l.Z,(0,r.Z)((0,r.Z)({className:j,error:!(null===(I=re.phone)||void 0===I||!I.message),type:"number"},Q("phone",{required:"Required field",pattern:{value:/^[+]{0,1}380[0-9]{9}$/i,message:"+38 (XXX) XXX-XX-XX"}})),{},{id:"outlined-phone-input",label:"Phone",autoComplete:"current-phone",variant:"outlined"})),(0,M.jsx)("div",{className:b,children:null!==re&&void 0!==re&&re.phone?(0,M.jsx)("p",{className:F,children:(null===re||void 0===re||null===(R=re.phone)||void 0===R?void 0:R.message)||"Error!"}):(0,M.jsx)("p",{className:N,children:"+38 (XXX) XXX-XX-XX"})})]}),(0,M.jsx)("p",{className:X,children:"Select your position"}),(0,M.jsx)(c.Z,{"aria-label":"gender",name:"gender1",value:W,onChange:function(e){L(parseInt(e.target.value))},children:A.map((function(e){var n=e.id,a=e.name;return(0,t.createElement)(m.Z,(0,r.Z)((0,r.Z)({},Q("position_id",{required:"Required field"})),{},{key:n,className:Z,value:n,control:(0,M.jsx)(d.Z,{color:"secondary"}),label:a}))}))}),(0,M.jsxs)("div",{className:z,children:[(0,M.jsxs)(u.Z,{variant:"contained",component:"label",className:y,children:["Upload",(0,M.jsx)("input",(0,r.Z)((0,r.Z)({onChange:function(e){console.log(e.target.value)},errors:re,type:"file"},Q("photo",{required:"Required field",validate:{lessThan5MB:function(e){var n;return(null===(n=e[0])||void 0===n?void 0:n.size)<5e6||"Max 5MB"},acceptedFormats:function(e){var n;return["image/jpeg","image/jpg"].includes(null===(n=e[0])||void 0===n?void 0:n.type)||"Invalid img , you need select jpeg or jpg"}}})),{},{hidden:!0}))]}),(0,M.jsx)("div",{className:S,children:"Upload your photo"})]}),(0,M.jsx)("div",{style:{fontSize:"12px",height:"15px",color:"red",paddingLeft:"10px"},children:(null===re||void 0===re?void 0:re.photo)&&(0,M.jsx)("p",{className:F,children:(null===re||void 0===re||null===(P=re.photo)||void 0===P?void 0:P.message)||"errors"})}),(0,M.jsx)("div",{className:C,children:(0,M.jsx)("button",{type:"submit",className:"".concat(oe?q:k),disabled:!oe,children:"Sing up"})})]}),(0,M.jsx)("div",{})]})}}}]);
//# sourceMappingURL=655.ef4c877b.chunk.js.map