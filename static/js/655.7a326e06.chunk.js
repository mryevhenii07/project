"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[655],{9315:function(e,n,a){a.d(n,{BT:function(){return i},EC:function(){return s},cC:function(){return u},r4:function(){return l}});var r=a(4569),t=a.n(r),o="https://frontend-test-assignment-api.abz.agency/api/v1/";function i(e){return t().get("".concat(o,"users?page=1&count=").concat(e)).then((function(e){return e.data}))}function s(){return t().get("".concat(o,"token")).then((function(e){return e.data.token}))}function l(e,n){return t().post("".concat(o,"users"),n,{headers:{Token:e}}).then((function(e){return e.data}))}function u(){return t().get("".concat(o,"positions")).then((function(e){return e.data.positions}))}},5655:function(e,n,a){a.r(n),a.d(n,{default:function(){return C}});var r=a(1413),t=a(885),o=a(2791),i=a(8995),s=a(4624),l=a(747),u=a(2475),c=a(7263),m=a(9315),d="Form_wrapForm__xvB93",p="Form_formMainTitle__H-Aty",x="Form_form__KiIxm",h="Form_formLabel__XEW-5",_="Form_formInputYourName__b0My1",f="Form_formInputEmail__+rwDp",v="Form_formInputPhone__SKsOK",g="Form_wrapError__WdplE",j="Form_error__mYrgJ",b="Form_noError__Opa+8",F="Form_selectPosition__wXd-H",N="Form_formRadio__nWqMf",X="Form_wrapBtnPhoto__zl1u-",Z="Form_upload__z4MRm",z="Form_uploadPhoto__MReGM",y="Form_wrapFormSubmit__PkWk+",S="Form_formSubmit__gJbXX",k="Form_actFormSubmit__8TBMe",q=a(184),C=function(){var e,n,a,C=(0,o.useState)(""),E=(0,t.Z)(C,2),M=E[0],w=E[1],R=(0,o.useState)(""),I=(0,t.Z)(R,2),P=I[0],B=I[1],T=(0,o.useRef)(),W=(0,o.useState)([]),$=(0,t.Z)(W,2),K=$[0],L=$[1];(0,o.useEffect)((function(){(0,m.cC)().then(L),(0,m.EC)().then(B)}),[]);var O=(0,i.cI)({mode:"onChange"}),Y=O.register,D=O.handleSubmit,H=O.reset,J=O.formState,U=J.errors,A=J.isValid;return(0,q.jsxs)("div",{className:d,children:[(0,q.jsx)("h1",{className:p,children:"Working with POST request"}),(0,q.jsxs)("form",{onSubmit:D((function(e){var n=e.email,a=e.name,r=e.position_id,t=e.photo,o=e.phone,i=new FormData;i.set("email",n),i.set("name",a),i.set("phone",o),i.set("position_id",r),i.set("photo",t[0]),(0,m.r4)(P,i),H()})),className:x,children:[(0,q.jsxs)("label",{htmlFor:"",className:h,children:[(0,q.jsx)(s.Z,(0,r.Z)((0,r.Z)({className:_},Y("name",{required:"Required field",minLength:{value:2,message:"Minimum 2 characters"},maxLength:{value:60,message:"Maximum 60 characters"}})),{},{id:"outlined-text-input",label:"Your name",autoComplete:"current-text",variant:"outlined"})),(0,q.jsx)("div",{className:g,children:(null===U||void 0===U?void 0:U.name)&&(0,q.jsx)("p",{className:j,children:(null===U||void 0===U||null===(e=U.name)||void 0===e?void 0:e.message)||"Error!"})})]}),(0,q.jsxs)("label",{htmlFor:"",className:h,children:[(0,q.jsx)(s.Z,(0,r.Z)((0,r.Z)({className:f,type:"email"},Y("email",{required:"Required field",pattern:{value:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i,message:"Invalid email address"}})),{},{id:"outlined-email-input",label:"Email",autoComplete:"current-email",variant:"outlined"})),(0,q.jsx)("div",{className:g,children:(null===U||void 0===U?void 0:U.email)&&(0,q.jsx)("p",{className:j,children:(null===U||void 0===U||null===(n=U.email)||void 0===n?void 0:n.message)||"errors"})})]}),(0,q.jsxs)("label",{htmlFor:"",className:h,children:[(0,q.jsx)(s.Z,(0,r.Z)((0,r.Z)({className:v,type:"phone"},Y("phone",{required:"Required field",pattern:{value:/^[+]{0,1}380[0-9]{9}$/i,message:"+38 (XXX) XXX-XX-XX"}})),{},{id:"outlined-phone-input",label:"Phone",autoComplete:"current-phone",variant:"outlined"})),(0,q.jsx)("div",{className:g,children:null!==U&&void 0!==U&&U.phone?(0,q.jsx)("p",{className:j,children:(null===U||void 0===U||null===(a=U.phone)||void 0===a?void 0:a.message)||"Error!"}):(0,q.jsx)("p",{className:b,children:"+38 (XXX) XXX-XX-XX"})})]}),(0,q.jsx)("p",{className:F,children:"Select your position"}),(0,q.jsx)(u.Z,{"aria-label":"gender",name:"gender1",value:M,onChange:function(e){w(parseInt(e.target.value))},children:K.map((function(e){var n=e.id,a=e.name;return(0,o.createElement)(c.Z,(0,r.Z)((0,r.Z)({},Y("position_id",{required:"Required field"})),{},{key:n,className:N,value:n,control:(0,q.jsx)(l.Z,{color:"secondary"}),label:a}))}))}),(0,q.jsx)("input",(0,r.Z)((0,r.Z)({ref:T,type:"file"},Y("photo",{required:"Required field",validate:{lessThan5MB:function(e){var n;return(null===(n=e[0])||void 0===n?void 0:n.size)<5e6||"Max 5MB"},acceptedFormats:function(e){var n;return["image/jpeg","image/jpg"].includes(null===(n=e[0])||void 0===n?void 0:n.type)||"errror"}}})),{},{type:"hidden"})),(0,q.jsxs)("button",{className:X,onClick:function(){console.log(T)},children:[(0,q.jsx)("div",{className:Z,children:"Upload"}),(0,q.jsx)("div",{className:z,children:"Upload your photo"})]}),(0,q.jsx)("div",{className:y,children:(0,q.jsx)("button",{type:"submit",className:"".concat(A?k:S),disabled:!A,children:"Sing up"})})]}),(0,q.jsx)("div",{})]})}}}]);
//# sourceMappingURL=655.7a326e06.chunk.js.map