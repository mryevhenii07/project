"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[655],{9315:function(e,n,r){r.d(n,{BT:function(){return t},EC:function(){return s},cC:function(){return u},r4:function(){return l}});var a=r(4569),o=r.n(a),i="https://frontend-test-assignment-api.abz.agency/api/v1/";function t(e){return o().get("".concat(i,"users?page=1&count=").concat(e)).then((function(e){return e.data}))}function s(){return o().get("".concat(i,"token")).then((function(e){return e.data.token}))}function l(e,n){return o().post("".concat(i,"users"),n,{headers:{Token:e}}).then((function(e){return e.data}))}function u(){return o().get("".concat(i,"positions")).then((function(e){return e.data.positions}))}},5655:function(e,n,r){r.r(n),r.d(n,{default:function(){return C}});var a=r(1413),o=r(885),i=r(2791),t=(r(9504),r(8995)),s=r(8931),l=r(4624),u=r(6513),d=r(5207),m=r(2475),c=r(7263),p=r(9315),x="Form_wrapForm__xvB93",h="Form_formMainTitle__H-Aty",v="Form_form__KiIxm",_="Form_formLabel__XEW-5",f="Form_formInputYourName__b0My1",g="Form_formInputEmail__+rwDp",j="Form_formInputPhone__SKsOK",b="Form_wrapError__WdplE",F="Form_error__mYrgJ",N="Form_noError__Opa+8",X="Form_selectPosition__wXd-H",Z="Form_formRadio__nWqMf",z="Form_wrapBtnPhoto__zl1u-",S="Form_upload__z4MRm",y="Form_uploadPhoto__MReGM",k="Form_wrapFormSubmit__PkWk+",q="Form_formSubmit__gJbXX",E="Form_actFormSubmit__8TBMe",M=r(184),C=function(){var e,n,r,C,w,I,R,P=(0,i.useState)(""),B=(0,o.Z)(P,2),T=B[0],W=B[1],L=(0,i.useState)(""),$=(0,o.Z)(L,2),K=$[0],O=$[1],Y=(0,s.k6)().push,D=(0,i.useState)([]),H=(0,o.Z)(D,2),J=H[0],U=H[1];(0,i.useEffect)((function(){(0,p.cC)().then(U),(0,p.EC)().then(O)}),[]);var A=(0,t.cI)({mode:"onChange"}),G=(A.control,A.register),V=A.handleSubmit,Q=A.reset,ee=A.formState,ne=ee.errors,re=ee.isValid;return(0,M.jsxs)("div",{className:x,children:[(0,M.jsx)("h1",{className:h,children:"Working with POST request"}),(0,M.jsxs)("form",{onSubmit:V((function(e){var n=e.email,r=e.name,a=e.position_id,o=e.photo,i=e.phone,t=new FormData;t.set("email",n),t.set("name",r),t.set("phone",i),t.set("position_id",a),t.set("photo",o[0]),(0,p.r4)(K,t),Y("/success"),Q()})),className:v,children:[(0,M.jsxs)("label",{htmlFor:"",className:_,children:[(0,M.jsx)(l.Z,(0,a.Z)((0,a.Z)({className:f},G("name",{required:"Required field",minLength:{value:2,message:"Minimum 2 characters"},maxLength:{value:60,message:"Maximum 60 characters"}})),{},{error:!(null===(e=ne.name)||void 0===e||!e.message),id:"outlined-text-input",label:"Your name",autoComplete:"current-text",variant:"outlined"})),(0,M.jsx)("div",{className:b,children:(null===ne||void 0===ne?void 0:ne.name)&&(0,M.jsx)("p",{className:F,children:(null===ne||void 0===ne||null===(n=ne.name)||void 0===n?void 0:n.message)||"Error!"})})]}),(0,M.jsxs)("label",{htmlFor:"",className:_,children:[(0,M.jsx)(l.Z,(0,a.Z)((0,a.Z)({className:g,type:"email"},G("email",{required:"Required field",pattern:{value:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i,message:"Invalid email address"}})),{},{error:!(null===(r=ne.email)||void 0===r||!r.message),id:"outlined-email-input",label:"Email",autoComplete:"current-email",variant:"outlined"})),(0,M.jsx)("div",{className:b,children:(null===ne||void 0===ne?void 0:ne.email)&&(0,M.jsx)("p",{className:F,children:(null===ne||void 0===ne||null===(C=ne.email)||void 0===C?void 0:C.message)||"errors"})})]}),(0,M.jsxs)("label",{htmlFor:"",className:_,children:[(0,M.jsx)(l.Z,(0,a.Z)((0,a.Z)({className:j,error:!(null===(w=ne.phone)||void 0===w||!w.message),type:"number"},G("phone",{required:"Required field",pattern:{value:/^[+]{0,1}380[0-9]{9}$/i,message:"+38 (XXX) XXX-XX-XX"}})),{},{id:"outlined-phone-input",label:"Phone",autoComplete:"current-phone",variant:"outlined"})),(0,M.jsx)("div",{className:b,children:null!==ne&&void 0!==ne&&ne.phone?(0,M.jsx)("p",{className:F,children:(null===ne||void 0===ne||null===(I=ne.phone)||void 0===I?void 0:I.message)||"Error!"}):(0,M.jsx)("p",{className:N,children:"+38 (XXX) XXX-XX-XX"})})]}),(0,M.jsx)("p",{className:X,children:"Select your position"}),(0,M.jsx)(m.Z,{"aria-label":"gender",name:"gender1",value:T,onChange:function(e){W(parseInt(e.target.value))},children:J.map((function(e){var n=e.id,r=e.name;return(0,i.createElement)(c.Z,(0,a.Z)((0,a.Z)({},G("position_id",{required:"Required field"})),{},{key:n,className:Z,value:n,control:(0,M.jsx)(d.Z,{color:"secondary"}),label:r}))}))}),(0,M.jsxs)("div",{className:z,children:[(0,M.jsxs)(u.Z,{variant:"contained",component:"label",className:S,children:["Upload",(0,M.jsx)("input",(0,a.Z)((0,a.Z)({errors:ne,type:"file"},G("photo",{required:"Required field",validate:{lessThan5MB:function(e){var n;return(null===(n=e[0])||void 0===n?void 0:n.size)<5e6||"Max 5MB"},acceptedFormats:function(e){var n;return["image/jpeg","image/jpg"].includes(null===(n=e[0])||void 0===n?void 0:n.type)||"Invalid img"}}})),{},{hidden:!0}))]}),(0,M.jsx)("div",{className:y,children:"Upload your photo"})]}),(0,M.jsx)("div",{style:{fontSize:"12px",height:"15px",color:"red",paddingLeft:"10px"},children:(null===ne||void 0===ne?void 0:ne.photo)&&(0,M.jsx)("p",{className:F,children:(null===ne||void 0===ne||null===(R=ne.photo)||void 0===R?void 0:R.message)||"errors"})}),(0,M.jsx)("div",{className:k,children:(0,M.jsx)("button",{type:"submit",className:"".concat(re?E:q),disabled:!re,children:"Sing up"})})]}),(0,M.jsx)("div",{})]})}}}]);
//# sourceMappingURL=655.004094d8.chunk.js.map