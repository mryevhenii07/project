"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[655],{9315:function(e,n,a){a.d(n,{BT:function(){return i},EC:function(){return s},cC:function(){return u},r4:function(){return l}});var r=a(4569),t=a.n(r),o="https://frontend-test-assignment-api.abz.agency/api/v1/";function i(e){return t().get("".concat(o,"users?page=1&count=").concat(e)).then((function(e){return e.data}))}function s(){return t().get("".concat(o,"token")).then((function(e){return e.data.token}))}function l(e,n){return t().post("".concat(o,"users"),n,{headers:{Token:e}}).then((function(e){return e.data}))}function u(){return t().get("".concat(o,"positions")).then((function(e){return e.data.positions}))}},5655:function(e,n,a){a.r(n),a.d(n,{default:function(){return C}});var r=a(1413),t=a(885),o=a(2791),i=a(8995),s=(a(9434),a(4624)),l=a(747),u=a(2475),m=a(7263),c=a(9315),d=(a(9141),"Form_wrapForm__xvB93"),p="Form_formMainTitle__H-Aty",h="Form_form__KiIxm",_="Form_formLabel__XEW-5",v="Form_formInputYourName__b0My1",f="Form_formInputEmail__+rwDp",g="Form_formInputPhone__SKsOK",x="Form_wrapError__WdplE",j="Form_error__mYrgJ",F="Form_noError__Opa+8",X="Form_selectPosition__wXd-H",b="Form_formRadio__nWqMf",N="Form_wrapBtnPhoto__zl1u-",Z="Form_upload__z4MRm",S="Form_wrapFormSubmit__PkWk+",k="Form_formSubmit__gJbXX",q="Form_actFormSubmit__8TBMe",y=a(184),C=function(){var e,n,a,C=(0,o.useState)(""),E=(0,t.Z)(C,2),M=E[0],w=E[1],R=(0,o.useState)(""),I=(0,t.Z)(R,2),B=(I[0],I[1],(0,o.useState)("")),P=(0,t.Z)(B,2),T=P[0],L=P[1],W=(0,o.useRef)(),z=(0,o.useState)([]),A=(0,t.Z)(z,2),K=A[0],O=A[1];(0,o.useEffect)((function(){(0,c.cC)().then(O),(0,c.EC)().then(L)}),[]);var Y=(0,i.cI)({mode:"onChange"}),D=Y.register,H=Y.handleSubmit,J=(Y.reset,Y.formState),U=J.errors,$=J.isValid;return(0,y.jsxs)("div",{className:d,children:[(0,y.jsx)("h1",{className:p,children:"Working with POST request"}),(0,y.jsxs)("form",{onSubmit:H((function(e){var n=e.email,a=e.name,r=e.position_id,t=e.photo,o=e.phone,i=new FormData;i.set("email",n),i.set("name",a),i.set("phone",o),i.set("position_id",r),i.set("photo",t[0]),(0,c.r4)(T,i)})),className:h,children:[(0,y.jsxs)("label",{htmlFor:"",className:_,children:[(0,y.jsx)(s.Z,(0,r.Z)((0,r.Z)({className:v},D("name",{required:"Required field",minLength:{value:2,message:"Minimum 2 characters"},maxLength:{value:60,message:"Maximum 60 characters"}})),{},{id:"outlined-text-input",label:"Your name",autoComplete:"current-text",variant:"outlined"})),(0,y.jsx)("div",{className:x,children:(null===U||void 0===U?void 0:U.name)&&(0,y.jsx)("p",{className:j,children:(null===U||void 0===U||null===(e=U.name)||void 0===e?void 0:e.message)||"Error!"})})]}),(0,y.jsxs)("label",{htmlFor:"",className:_,children:[(0,y.jsx)(s.Z,(0,r.Z)((0,r.Z)({className:f,type:"email"},D("email",{required:"Required field",minLength:{value:7,message:" Minimum 7 characters"},maxLength:{value:26,message:"Maximum 26 characters"},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{id:"outlined-email-input",label:"Email",autoComplete:"current-email",variant:"outlined"})),(0,y.jsx)("div",{className:x,children:(null===U||void 0===U?void 0:U.email)&&(0,y.jsx)("p",{className:j,children:(null===U||void 0===U||null===(n=U.email)||void 0===n?void 0:n.message)||"errors"})})]}),(0,y.jsxs)("label",{htmlFor:"",className:_,children:[(0,y.jsx)(s.Z,(0,r.Z)((0,r.Z)({className:g,type:"phone"},D("phone",{required:"Required field",pattern:{value:/^[+]{0,1}380[0-9]{9}$/i,message:"+38 (XXX) XXX-XX-XX"}})),{},{id:"outlined-phone-input",label:"Phone",autoComplete:"current-phone",variant:"outlined"})),(0,y.jsx)("div",{className:x,children:null!==U&&void 0!==U&&U.phone?(0,y.jsx)("p",{className:j,children:(null===U||void 0===U||null===(a=U.phone)||void 0===a?void 0:a.message)||"Error!"}):(0,y.jsx)("p",{className:F,children:"+38 (XXX) XXX-XX-XX"})})]}),(0,y.jsx)("p",{className:X,children:"Select your position"}),(0,y.jsx)(u.Z,{"aria-label":"gender",name:"gender1",value:M,onChange:function(e){w(parseInt(e.target.value))},children:K.map((function(e){var n=e.id,a=e.name;return(0,o.createElement)(m.Z,(0,r.Z)((0,r.Z)({},D("position_id",{required:"Required field"})),{},{key:n,className:b,value:n,control:(0,y.jsx)(l.Z,{color:"secondary"}),label:a}))}))}),(0,y.jsxs)("button",{className:N,onClick:function(){console.log(W)},children:[(0,y.jsx)("div",{className:Z,children:"Upload"})," ",(0,y.jsx)("input",(0,r.Z)((0,r.Z)({type:"file"},D("photo",{required:"Required field",validate:{lessThan5MB:function(e){var n;return(null===(n=e[0])||void 0===n?void 0:n.size)<5e6||"Max 5MB"},acceptedFormats:function(e){var n;return["image/jpeg","image/jpg"].includes(null===(n=e[0])||void 0===n?void 0:n.type)||"not jpeg"}}})),{},{placeholder:"Upload your photo"}))]}),(0,y.jsx)("div",{className:S,children:(0,y.jsx)("button",{type:"submit",className:"".concat($?q:k),disabled:!$,children:"Sing up"})})]}),(0,y.jsx)("div",{})]})}}}]);
//# sourceMappingURL=655.cde137a3.chunk.js.map